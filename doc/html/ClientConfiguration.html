<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>ClientConfiguration</title>
<link rel="stylesheet" type="text/css" media="all" charset="utf-8" href="mentalwealth/css/common.css">
<link rel="stylesheet" type="text/css" media="screen" charset="utf-8" href="mentalwealth/css/screen.css">
<link rel="stylesheet" type="text/css" media="print" charset="utf-8" href="mentalwealth/css/print.css">
</head>
<body>
<table>
<tr>
<td>
<img src="logo.png">
</td>
<td>
&nbsp;[<a href="FrontPage.html">FrontPage</a>]&nbsp;[<a href="TitleIndex.html">TitleIndex</a>]&nbsp;[<a href="WordIndex.html">WordIndex</a>]
</td>
</tr>
</table>
<hr>
<div id="page">
<h1 id="title">ClientConfiguration</h1>
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h4 id="head-6c46e4d322e11d8981b929c6f02ae8ded9498389">TMDA Client Configuration</h4>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line874">In addition to filtering your incoming e-mail, TMDA can also work with your mail client to send your outgoing messages with unique, cryptographically enhanced (tagged) e-mail addresses. This is done to complement the filter's "whitelist" functionality. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867"><span class="u">Dated Addresses</span> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line874">TMDA can automatically tag your messages with a temporary e-mail <span class="anchor" id="line-8"></span>address which only works for a defined time interval (e.g, 5 days). <span class="anchor" id="line-9"></span>During this period, even those not on your whitelist will be able to <span class="anchor" id="line-10"></span>contact you using the dated address.  This also allows you to participate <span class="anchor" id="line-11"></span>freely in open discussion forums such as Internet mailing lists <span class="anchor" id="line-12"></span>without fear that your address will be "harvested" by spammers for <span class="anchor" id="line-13"></span>later use against you, and without opening up your whitelist more than <span class="anchor" id="line-14"></span>necessary. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line874">Here is an example dated address: <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-19"></span><pre>  jason-dated-989108708.a17f80@mastaler.com</pre><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span></li></ul><p class="line874">This particular address expires on Sun, May 6 00:25:08 2001 UTC, <span class="anchor" id="line-22"></span>which is exactly 5 days after it was generated. <span class="anchor" id="line-23"></span>TMDA time intervals can be set in years, months, weeks, days, hours, minutes, and <span class="anchor" id="line-24"></span>seconds.  Once a dated address expires, messages sent there must <span class="anchor" id="line-25"></span>go through the confirmation process.  Use of strong cryptography insures <span class="anchor" id="line-26"></span>that the timestamp can't be modified. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867"><span class="u">Sender Addresses</span> <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line874">TMDA can also tag your messages with a sender address which is an e-mail <span class="anchor" id="line-31"></span>address that only a certain sender can use. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line874">Here is an example sender address: <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-36"></span><pre>  jason-sender-a751af@mastaler.com</pre><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span></li></ul><p class="line874">This particular sender address will only accept messages from <span class="anchor" id="line-39"></span><a class="mailto" href="mailto:president@whitehouse.gov">president@whitehouse.gov</a>.  Other messages must go through <span class="anchor" id="line-40"></span>the confirmation process.  Sender addresses can also be generated to <span class="anchor" id="line-41"></span>accept mail from any sender at a given domain. <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line874">Sender addresses are often used to subscribe to mailing lists.  This <span class="anchor" id="line-44"></span>way, you don't have to worry that the subscription list might get <span class="anchor" id="line-45"></span>harvested by spammers since only the mailing list software will be <span class="anchor" id="line-46"></span>able to send messages there.  The address to use can be found in the <span class="anchor" id="line-47"></span>Return-Path header of a mailing list message (e.g, subscribe to <span class="anchor" id="line-48"></span>the Python list with a sender address based upon <a class="mailto" href="mailto:python-list-admin@python.org">python-list-admin@python.org</a>).= <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line867"><span class="u">Keyword Addresses</span> <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line874">TMDA can also tag your messages with a keyword address which will work <span class="anchor" id="line-53"></span>for any sender and indefinitely unless specifically revoked.  Any string <span class="anchor" id="line-54"></span>can be used as the keyword. <span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line874">Here is an example keyword address using the keyword `promos': <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-59"></span><pre>  jason-keyword-promos.8w06e8@mastaler.com</pre><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span></li></ul><p class="line874">Keyword addresses are appropriate when you need to hand-out a working address, but you don't want its use limited to a particular sender or time frame. They are particularily useful in cases where you are not be able to predict the sender address such as with automated mailings (your ISP, your Amazon.COM account, etc.).  <span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><p class="line874">The caveat of course is that since keyword addresses are essentially keys to your inbox, you must manually intervene if the address starts getting spammed. An easy way to do this is to add an entry for the harvested keyword address to your ~/.tmda/filters/incoming file. <span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line862">The <strong>tmda-address</strong> program is included to generate the various types of tagged addresses from the command line. Run the utility with the -h flag to get usage information.  <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><p class="line874">* outgoing filter file: <span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><p class="line862">TMDA determines how to tag your outgoing mail by parsing your outgoing filter file. Set one up by reading through the <a href="./FilterSpecification.html">FilterSpecification</a> (especially the examples section at the end).  <span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><p class="line874">If you don't have an outgoing filter file, or the destination address doesn't match any lines in your filter file, the message will be tagged with a dated address by default. The lines in your filter make exceptions to that rule. You can also change the default by setting ACTION_OUTGOING in your tmda/config.  <span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><p class="line874">TIP: Many users prefer that their "whitelisted" addresses receive untagged (no cookie added) messages. This way their trusted contacts are not even be aware of TMDA. If you are whitelisting as described in the FAQ, you can accomplish this by adding one of the following lines to your ~/.tmda/filters/outgoing filter file: <span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><ul><li style="list-style-type:none"><span class="anchor" id="line-78"></span><pre>  to *@=domain.dom bare
<span class="anchor" id="line-79"></span>  to-file ~/.tmda/lists/whitelist bare</pre><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span></li></ul><p class="line874">* X-TMDA header: <span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line874">You can override any declarations you might have in your filter file by adding this header when composing a message. TMDA will look for it first when determining how to tag the message. The header will then be removed just before the message is sent. Here is how it can be used: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><div><table><tbody><tr>  <td><p class="line891"><tt class="backtick">X-TMDA:&nbsp;bare</tt></td>
  <td><p class="line862"> Send the message to all recipients with your address untagged (no cookie added) </td>
</tr>
<tr>  <td><span class="anchor" id="line-86"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;bare=append</tt></td>
  <td><p class="line862"> Send the message to all recipients with your address untagged (no cookie added), and also append the recipient addresses to your BARE_APPEND file. </td>
</tr>
<tr>  <td><span class="anchor" id="line-87"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;dated</tt></td>
  <td><p class="line862"> Send the message to all recipients with a dated address (default timeout interval) </td>
</tr>
<tr>  <td><span class="anchor" id="line-88"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;dated=3M&nbsp;</tt></td>
  <td><p class="line862"> Send the message to all recipients with a dated address that expires in 3 months </td>
</tr>
<tr>  <td><span class="anchor" id="line-89"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;sender</tt></td>
  <td><p class="line862"> Send the message to all recipients with a sender cookie that is based on the recipient address.</td>
</tr>
<tr>  <td><span class="anchor" id="line-90"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;sender=owner-xemacs-beta@xemacs.org</tt></td>
  <td><p class="line862">Send the message to all recipients with a sender cookie based on <a class="mailto" href="mailto:owner-xemacs-beta@xemacs.org">owner-xemacs-beta@xemacs.org</a> instead of the recipient address.</td>
</tr>
<tr>  <td><span class="anchor" id="line-91"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;sender=xemacs.org</tt></td>
  <td><p class="line862">Send the message to all recipients with a sender cookie based on xemacs.org instead of the recipient address.</td>
</tr>
<tr>  <td><span class="anchor" id="line-92"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;domain</tt></td>
  <td><p class="line862">Send the message to all recipients with a sender cookie that is based on the domain of the recipient address.</td>
</tr>
<tr>  <td><span class="anchor" id="line-93"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;keyword=promos</tt></td>
  <td><p class="line862">Send the message to all recipients with a keyword (promos) cookie added to your address</td>
</tr>
<tr>  <td><span class="anchor" id="line-94"></span><p class="line891"><tt class="backtick">X-TMDA:&nbsp;exp=postmaster@xemacs.org</tt></td>
  <td><p class="line862">Send the message to all recipients from <a class="mailto" href="mailto:postmaster@xemacs.org">postmaster@xemacs.org</a></td>
</tr>
<tr>  <td><span class="anchor" id="line-95"></span><p class="line891"><tt class="backtick">&nbsp;X-TMDA:&nbsp;ext=mlist-xemacs-beta</tt></td>
  <td><p class="line862">Send the message to all recipients from <a class="mailto" href="mailto:jason-mlist-xemacs-beta@mastaler.com">jason-mlist-xemacs-beta@mastaler.com</a></td>
</tr>
</tbody></table></div><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><p class="line874">* ~/.tmda/config configuration: <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><p class="line862">Make sure that your crypt_key file is the same on both your mail server and your mail client -- they must match. See <a href="./ConfigurationVariables.html">ConfigurationVariables</a> for more client options.  <span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><p class="line874">* Mail User Agent (MUA) configuration: <span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><p class="line874">To have TMDA read your configuration each time you send outgoing mail and modify your sender address accordingly, you must arrange for your MUA to call the included sendmail compatibility wrapper (tmda-sendmail). tmda-sendmail will use the address set by your MUA as the base for your tagged address. See below for how to accomplish this for a few popular MUAs.  <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><p class="line867"><strong>NOTE</strong>: If your MUA does not support a sendmail command-line interface as is the case with most non-Unix clients, you should use tmda-ofmipd instead.  <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><ul><li>For BSD Mail/mailx, add the following line to your .mailrc file: <span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><pre>    set sendmail="/path/to/tmda/bin/tmda-sendmail"</pre><br />
<span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span></li><li class="gap"><p class="line862">For <a class="http" href="http://www.washington.edu/pine/">Pine</a>, add the following line to your .pinerc file: <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><pre>    sendmail-path="/path/to/tmda/bin/tmda-sendmail"</pre><br />
<span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span></li><li class="gap"><p class="line862">For <a class="http" href="http://www.mutt.org/">Mutt</a>, add the following line to your .muttrc file: <span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><pre>    set sendmail="/path/to/tmda/bin/tmda-sendmail"</pre><span class="anchor" id="line-119"></span><ul><li style="list-style-type:none"><p class="line862">and make sure <em>sendmail_wait</em> is not set to <tt class="backtick">-1</tt>.<br />
 <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://www.wonderworks.com/vm/">VM</a>, add the following line to your .vm file: <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><pre>    (setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")</pre><br />
<span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span></li><li class="gap"><p class="line862">For <a class="http" href="http://www.gnus.org/">Gnus</a>, add the following line to your .gnus file: <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><pre>    (setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")</pre><span class="anchor" id="line-128"></span><ul><li style="list-style-type:none"><p class="line862">Also see <strong>tmda.el</strong> (located in contrib), which is a module for integrating TMDA with Gnus and Message mode.<br />
<br />
 <span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://www.mhost.com/nmh/">nmh</a>, <span class="anchor" id="line-131"></span><ul><li>Make sure nmh was compiled to use Sendmail as its delivery agent (i.e, "--with-mts=sendmail") <span class="anchor" id="line-132"></span></li><li>Add the following line to your ~/.mh_profile: <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><pre>      postproc: /path/to/nmh/lib/spost</pre><span class="anchor" id="line-135"></span></li><li>Add the following line to your /path/to/nmh/etc/mts.conf: <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><pre>      sendmail: /path/to/tmda/bin/tmda-sendmail</pre><br />
<span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://sylpheed.good-day.net/">Sylpheed</a>, Configuration --&gt; Common Preferences --&gt; Send --&gt; External Program <span class="anchor" id="line-140"></span><ul><li><p class="line862">Check <em>Use external program for sending</em> <span class="anchor" id="line-141"></span></li><li><p class="line862">In the <em>Program path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em><br />
<br />
 <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://mahogany.sourceforge.net/">Mahogany</a>, Edit --&gt; Preferences --&gt; Network <span class="anchor" id="line-144"></span><ul><li><p class="line862">Check <em>Use local mail transfer agent</em> <span class="anchor" id="line-145"></span></li><li><p class="line862">In the <em>Local MTA command</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em><br />
<br />
 <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://www.xfmail.org/">XFMail</a>, Misc --&gt; Config Accounts+Misc --&gt; Send <span class="anchor" id="line-148"></span><ul><li><p class="line862">Check <em>Sendmail</em> under <em>Send method</em> <span class="anchor" id="line-149"></span></li><li><p class="line862">In the <em>Sendmail Path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em><br />
<br />
 <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://www.inter7.com/sqwebmail.html">SqWebMail</a> <span class="anchor" id="line-152"></span><ul><li><p class="line862">Replace <em>/usr/local/share/sqwebmail/sendit.sh</em> with <em>contrib/sendit.sh</em> from the TMDA distribution. <span class="anchor" id="line-153"></span></li><li><p class="line862">sendit.sh automatically works with <a class="nonexistent" href="./SqWebMail.html">SqWebMail</a> + vpopmail + TMDA, or just <a class="nonexistent" href="./SqWebMail.html">SqWebMail</a> + vpopmail.<br />
<br />
 <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span></li></ul></li><li class="gap"><p class="line862">For <a class="http" href="http://kmail.kde.org/">KMail (KDE Mail)</a>, Settings --&gt; Configure KMail --&gt; Network --&gt; Sending Mail <span class="anchor" id="line-156"></span><ul><li><p class="line862">Check <em>Sendmail</em> <span class="anchor" id="line-157"></span></li><li><p class="line862">In the <em>Location</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em><br />
<br />
 <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></li></ul></li></ul><p class="line874">* USENET News Client configuration: <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line862">If you still read <a class="http" href="http://www.usenet.org/">USENET</a> (a notorious source of spam), you might find it useful to post using a dated address. Simply have your newsreader call <strong>tmda-address -dn</strong> and use the result as your posting address. <span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><ul><li><p class="line862">For <a class="http" href="http://www.gnus.org/">Gnus</a>, this could be accomplished with the following addition to your .gnus file: <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><pre>    (defun tmda-dated-address ()
<span class="anchor" id="line-166"></span>      (shell-command-to-string "/path/to/tmda/bin/tmda-address -dn"))
<span class="anchor" id="line-167"></span>    (setq gnus-posting-styles
<span class="anchor" id="line-168"></span>          (message-this-is-news
<span class="anchor" id="line-169"></span>           (address tmda-dated-address)))</pre><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span></li><li class="gap"><p class="line862">For <a class="http" href="http://www.slrn.org/">slrn</a>, you can define an m4 macro that modifies your .slrnrc each time slrn is invoked:<br />
<br />
 <span class="anchor" id="line-172"></span><ol type="1"><li>Copy your .slrnrc to .slrnrc.m4, edit .slrnrc.m4 and search for line which begins with "set username". Change that line to: <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><pre>      set username "patsubst(TMDADATED, `@.*$')"</pre><span class="anchor" id="line-175"></span></li><li>Then make an alias or script for running slrn. Below is an example alias for tcsh. <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><pre>      alias slrn-dated 'm4 -DTMDADATED=`tmda-address -dn` \
<span class="anchor" id="line-178"></span>      ~/.slrnrc.m4 &amp;gt; ~/.slrnrc &amp;amp;&amp;amp; slrn -h newshost'</pre><span class="anchor" id="line-179"></span></li></ol></li><li><p class="line862">For <a class="http" href="http://www.tin.org/">TIN</a>: <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><pre>    In tinrc:
<span class="anchor" id="line-182"></span>    # If --internal use the builtin mini inews for posting via NNTP
<span class="anchor" id="line-183"></span>    # otherwise use an external inews program
<span class="anchor" id="line-184"></span>    inews_prog=/path/to/bin/inews.sh
<span class="anchor" id="line-185"></span>    inews.sh:
<span class="anchor" id="line-186"></span>    #!/bin/sh
<span class="anchor" id="line-187"></span>    sed "/^From:/d" |/usr/bin/inews -h -S -f `/usr/bin/tmda-address -d`</pre><span class="anchor" id="line-188"></span></li><li><p class="line862">For <a class="http" href="http://www.mutt.org/">Mutt</a> with the VVV-NNTP patch applied, see the following <a class="http" href="http://permalink.gmane.org/gmane.mail.spam.tmda.user/4905">instructions</a>. <span class="anchor" id="line-189"></span></li></ul><span class="anchor" id="bottom"></span></div>
</div>
<hr>
2007-07-30 15:45
</body>
</html>
